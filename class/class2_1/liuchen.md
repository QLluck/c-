graph TD;
    A[开始] --> B[初始化栈 stai, stac, stak, staz, staw];
    B --> C[设置循环变量 i = 0];
    C --> D{i < s.size()};
    D -- 是 --> E{s[i] 是否为空格};
    E -- 是 --> F[i = i + 1];
    F --> D;
    E -- 否 --> G{s[i] 是否为数字};
    G -- 是 --> H[将 s[i] 压入 staz 栈];
    H --> F;
    G -- 否 --> I{staz 栈是否为空};
    I -- 否 --> J[调用 staCInt 函数将 staz 转换为整数压入 stai 栈];
    J --> K[将 '0' 压入 staw 栈];
    K --> L{stac 栈是否为空};
    L -- 否 --> M[获取 stac 栈顶字符 c];
    M --> N{c 是否为 '-'};
    N -- 是 --> O[将 stac 栈顶 '-' 替换为 '+'];
    O --> P[取出 stai 栈顶元素取反后压入 stai 栈];
    P --> Q;
    N -- 否 --> Q;
    L -- 是 --> Q;
    Q --> R{s[i] 是否为运算符};
    R -- 是 --> S[将 s[i] 压入 stac 栈];
    S --> F;
    R -- 否 --> T{stak 栈顶是否为 '(' 且 s[i] 为 ')'};
    T -- 是 --> U[开始计算括号内的值];
    U --> V[取出 staw 栈顶字符 c];
    V --> W{staw 栈顶是否为 '('};
    W -- 是 --> X[弹出 stak 栈顶 '(' 和 staw 栈顶 '('，再压入 c];
    X --> F;
    W -- 否 --> Y[将 c 压回 staw 栈];
    Y --> Z[调用 jiShuan 函数进行计算];
    Z --> AA[弹出 stac 栈顶运算符];
    AA --> AB[弹出 staw 栈顶元素];
    AB --> V;
    T -- 否 --> AC[将 s[i] 压入 stak 和 staw 栈];
    AC --> F;
    D -- 否 --> AD{staz 栈是否为空};
    AD -- 否 --> AE[调用 staCInt 函数将 staz 转换为整数压入 stai 栈];
    AE --> AF{stai 栈元素个数是否大于 1};
    AD -- 是 --> AF;
    AF -- 是 --> AG[调用 jiShuan 函数进行计算];
    AG --> AH[弹出 stac 栈顶运算符];
    AH --> AF;
    AF -- 否 --> AI[返回 stai 栈顶元素];
    AI --> AJ[结束];